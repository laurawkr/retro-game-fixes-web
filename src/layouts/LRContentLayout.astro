---
import BaseLayout from "./BaseLayout.astro";

const {
  title = "Retro Game Fixes",
  description = "Modern fixes for classic PC games",
  pageTitle = title,
  pageTagline = description,
  activePath = "",
} = Astro.props;

const guides = [
  { href: "/guides/harry-potter-sorcerers-stone", label: "Harry Potter and the Sorcerer's Stone (PC)" },
  { href: "/guides/harry-potter-chamber-of-secrets", label: "Harry Potter and the Chamber of Secrets (PC)" },
  { href: "/guides/sid-meiers-sim-golf", label: "Sid Meier’s SimGolf (PC)" },
  // add more
];

const pages = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/privacy-policy", label: "Privacy Policy" },
];

const sales = [
  { href: "/games-for-sale/", label: "All listings" },
];
---

<BaseLayout {title} {description}>
  <header class="lr-header">
    <div class="lr-header-bg" aria-hidden="true"></div>
    <div class="lr-header-inner">
      <h1 class="lr-site-title">Retro Game Fixes</h1>
      <p class="lr-site-tagline">{pageTagline}</p>
    </div>
  </header>

  <div class="lr-middle">
    <aside class="lr-sidebar lr-sidebar-left">
      <section class="lr-panel">
        <h3 class="lr-panel-title">Pages</h3>
        <ul class="lr-nav">
          {pages.map((p) => (
            <li>
              <a href={p.href} aria-current={activePath === p.href ? "page" : undefined}>
                {p.label}
              </a>
            </li>
          ))}
        </ul>
      </section>

      <section class="lr-panel">
        <h3 class="lr-panel-title">Guides</h3>
        <ul class="lr-nav lr-subnav">
          {guides.map((g) => (
            <li><a href={g.href}>{g.label}</a></li>
          ))}
        </ul>
      </section>

      <section class="lr-panel">
        <h3 class="lr-panel-title">Games For Sale</h3>
        <ul class="lr-nav lr-subnav">
          {sales.map((s) => (
            <li>
              <a href={s.href} aria-current={activePath === s.href ? "page" : undefined}>
                {s.label}
              </a>
            </li>
          ))}
        </ul>
      </section>
    </aside>

    <main class="lr-main">
      <article class="lr-paper">
        <header class="lr-post-header">
          <h2 class="lr-post-title">{pageTitle}</h2>
        </header>

        <div class="lr-post-content">
          <slot />
        </div>
      </article>

      <footer class="lr-footer">
        <a href="/about">About</a> · <a href="/privacy-policy">Privacy Policy</a>
        <div class="lr-copyright">
          &copy; {new Date().getFullYear()} retrogamefixes.com
        </div>
      </footer>
    </main>
  </div>
</BaseLayout>
